# Docker Logger to AWS CloudWatch
This script creates a Docker container, runs a specified bash command inside the container, and sends the logs generated by the container to AWS CloudWatch


## Requirements

- Docker installed on the local machine
- AWS credentials (Access Key ID and Secret Access Key) with permissions to create and write to CloudWatch logs
- Python environment (recommended to use a virtual environment)

## Clone the Repository

```bash
git clone https://github.com/dev-abdullaev/Backend-test-task.git
cd Backend-test-task
```

## Set Up Virtual Environment

```bash
python -m venv venv
source venv/bin/activate - for Linux and macOS
venv\Scripts\activate - for Windows
```

## Install Dependencies
```bash
pip install -r requirements.txt
```

## Run the Script
```bash
python main.py --docker-image python --bash-command $'pip install pip -U && pip install tqdm && python -c \"import time\ncounter = 0\nwhile True:\n\tprint(counter)\n\tcounter = counter + 1\n\ttime.sleep(0.1)\"' --aws-cloudwatch-group test-task-group-1 --aws-cloudwatch-stream test-task-stream-1 --aws-access-key-id <access-key-id> --aws-secret-access-key <secret-access-key> --aws-region <aws-region>
```

## Script Arguments
- --docker-image: Name of the Docker image to use
- --bash-command: Bash command to run inside the Docker image
- --aws-cloudwatch-group: Name of AWS CloudWatch log group
- --aws-cloudwatch-stream: Name of AWS CloudWatch log stream
- --aws-access-key-id: AWS Access Key ID
- --aws-secret-access-key: AWS Secret Access Key
- --aws-region: AWS Region

## Notes 
- Ensure that the specified Docker image contains the necessary tools or applications to execute the provided bash command
- The script will continuously monitor the logs generated by the Docker container and send them to CloudWatch
- The script can be interrupted using Ctrl+C, and it will clean up resources
